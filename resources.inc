### Streamline setting up resource requirements by 
### setting up main groups RESOURCE_REQ
### Usage: RESOURCE_REQ=[low|medium|high|vhigh]

QOS_30min = 00:29:59
QOS_6h = 05:59:59
QOS_1d = 23:59:59
QOS_1w = 167:59:59
QOS_2w = 335:59:59

ifeq ($(findstring low,$(RESOURCE_REQ)),low)
RESOURCE_REQ_VSHORT ?= $(QOS_30min)
RESOURCE_REQ_SHORT ?= $(QOS_30min)
RESOURCE_REQ_MEDIUM ?= $(QOS_6h)
RESOURCE_REQ_LONG ?= $(QOS_6h)
RESOURCE_REQ_VLONG ?= $(QOS_1d)
RESOURCE_REQ_LOW_MEM ?= 4G
RESOURCE_REQ_MEDIUM_MEM ?= 8G
RESOURCE_REQ_HIGH_MEM ?= 16G
RESOURCE_REQ_VHIGH_MEM ?= 16G
RESOURCE_REQ_VVHIGH_MEM ?= 32G
RESOURCE_REQ_LOW_MEM_JAVA ?= 3G
RESOURCE_REQ_MEDIUM_MEM_JAVA ?= 7G
RESOURCE_REQ_HIGH_MEM_JAVA ?= 15G
RESOURCE_REQ_VHIGH_MEM_JAVA ?= 15G
RESOURCE_REQ_VVHIGH_MEM_JAVA ?= 31G
endif

ifeq ($(findstring medium,$(RESOURCE_REQ)),medium)
RESOURCE_REQ_VSHORT ?= $(QOS_30min)
RESOURCE_REQ_SHORT ?= $(QOS_6h)
RESOURCE_REQ_MEDIUM ?= $(QOS_6h)
RESOURCE_REQ_LONG ?= $(QOS_1d)
RESOURCE_REQ_VLONG ?= $(QOS_1w)
RESOURCE_REQ_LOW_MEM ?= 4G
RESOURCE_REQ_MEDIUM_MEM ?= 8G
RESOURCE_REQ_HIGH_MEM ?= 16G
RESOURCE_REQ_VHIGH_MEM ?= 32G
RESOURCE_REQ_VVHIGH_MEM ?= 64G
RESOURCE_REQ_LOW_MEM_JAVA ?= 3G
RESOURCE_REQ_MEDIUM_MEM_JAVA ?= 7G
RESOURCE_REQ_HIGH_MEM_JAVA ?= 15G
RESOURCE_REQ_VHIGH_MEM_JAVA ?= 31G
RESOURCE_REQ_VVHIGH_MEM_JAVA ?= 63G
endif

# must be defined before 'high' because {findstring high, vhigh, high} = TRUE
ifeq ($(findstring vhigh,$(RESOURCE_REQ)),vhigh)
RESOURCE_REQ_VSHORT ?= $(QOS_6h)
RESOURCE_REQ_SHORT ?= $(QOS_1d)
RESOURCE_REQ_MEDIUM ?= $(QOS_1w)
RESOURCE_REQ_LONG ?= $(QOS_2w)
RESOURCE_REQ_VLONG ?= $(QOS_2w)
RESOURCE_REQ_LOW_MEM ?= 32G
RESOURCE_REQ_MEDIUM_MEM ?= 64G
RESOURCE_REQ_HIGH_MEM ?= 128G
RESOURCE_REQ_VHIGH_MEM ?= 200G
RESOURCE_REQ_VVHIGH_MEM ?= 300G
RESOURCE_REQ_LOW_MEM_JAVA ?= 31G
RESOURCE_REQ_MEDIUM_MEM_JAVA ?= 63G
RESOURCE_REQ_HIGH_MEM_JAVA ?= 127G
RESOURCE_REQ_VHIGH_MEM_JAVA ?= 199G
RESOURCE_REQ_VVHIGH_MEM_JAVA ?= 298G
endif

ifeq ($(findstring high,$(RESOURCE_REQ)),high)
RESOURCE_REQ_VSHORT ?= $(QOS_30min)
RESOURCE_REQ_SHORT ?= $(QOS_6h)
RESOURCE_REQ_MEDIUM ?= $(QOS_1d)
RESOURCE_REQ_LONG ?= $(QOS_1w)
RESOURCE_REQ_VLONG ?= $(QOS_2w)
RESOURCE_REQ_LOW_MEM ?= 8G
RESOURCE_REQ_MEDIUM_MEM ?= 16G
RESOURCE_REQ_HIGH_MEM ?= 32G
RESOURCE_REQ_VHIGH_MEM ?= 64G
RESOURCE_REQ_VVHIGH_MEM ?= 128G
RESOURCE_REQ_LOW_MEM_JAVA ?= 7G
RESOURCE_REQ_MEDIUM_MEM_JAVA ?= 15G
RESOURCE_REQ_HIGH_MEM_JAVA ?= 31G
RESOURCE_REQ_VHIGH_MEM_JAVA ?= 63G
RESOURCE_REQ_VVHIGH_MEM_JAVA ?= 127G
endif

